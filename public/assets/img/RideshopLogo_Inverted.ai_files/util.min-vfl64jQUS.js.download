define(["require","exports","tslib","react","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/utils","modules/clean/react/share_download/models","modules/clean/react/title_bar/overflow_menu","modules/clean/share_download/types","modules/clean/viewer","modules/clean/loggers/folder_preview_logger"],(function(e,o,n,t,l,r,i,a,s,u,c,d){"use strict";function p(e,o,n,t,l){var r=e.canCopyToDropboxRoles,i=[];if(r.length>0){var s=c.Viewer.get_viewer(),u=s.get_users(!0),d=function(e,u){var c=-1===r.indexOf(u);i.push(a.ShareDownloadActionOption.buildToDropboxOption(o,n,s,e,u,c,t,l))};u.forEach((function(e){d(e,e.role)})),r.indexOf("anonymous")>-1&&d(void 0,"anonymous")}return i}function f(e,o,n,t,l,r,i,s){var c=e.canDownloadRoles,d=a.ShareDownloadActionOption.buildDirectOption,f=[];return u.isPendingEntry(t)?f:(c.length>0&&f.push(d(o,l,r)),f.push.apply(f,p(e,n,t,r,s)),f)}function g(e,o,n,t,l){return function(a){t&&t(),e.handler&&e.handler(),n?d.logEvent(e.userAction,n):r.logUserAction(e.userAction,i.getSplitButtonUserActionContext(o,l))}}Object.defineProperty(o,"__esModule",{value:!0}),t=n.__importDefault(t),o.getToDropboxOptions=p,o.getDownloadOptions=f,o.callOptionHandler=g,o.getDownloadOptionsAsPopoverOrMobileItems=function(e,o,n,r,i,a){return f(e,o,n,r,null,i,0,a).map((function(e){return t.default.createElement(s.PopoverOrMobileItem,{key:e.userAction,disabled:e.isDisabled,onSelect:g(e,l.SplitButtonActionLocation.Split,a)},e.text)}))},o.isDownloadAllowed=function(e){return e.canDownloadRoles.length>0}}));
//# sourceMappingURL=util.min.js-vfldI1nQ4.map