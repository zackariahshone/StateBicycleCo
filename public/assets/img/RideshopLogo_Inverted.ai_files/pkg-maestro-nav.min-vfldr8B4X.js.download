define("modules/clean/appshell/account",["require","exports","modules/core/uri"],(function(e,t,a){"use strict";function r(e,t,a,r){if(r===a)return null;var s=o(e);if(parseInt(r.toString(),10)!==r)throw new Error("switchAccount takes an integer subjectUidToSwitchTo. got: "+r);var i=t.getUserById(r).role,u=s.getPath();return"/history"===u.substr(0,8)||"/event_details"===u.substr(0,14)?(s.setPath("/"+i),s.toString()):("/team"===u.substr(0,5)?s.setPath("/personal"):"/photos"===u.substr(0,7)?s.setPath("/work"):"/work"===u?s.setPath("/personal"):"/personal"===u&&s.setPath("/work"),n(u)?(s.setPath("/"+i),s.toString()):(s.setQuery({role:i}),s.toString()))}function n(e){return"/scl"===e.substr(0,4)||"/sh"===e.substr(0,3)||"/s"===e.substr(0,2)}function o(e){for(var t=a.URI.parse(e),r=t.getPath(),n=0,o=["/work","/personal","/home","/history","/s","/sh","/scl","/team/admin/members","/team/admin/team_folders","/team/admin/content","/team/admin/billing","/team/admin/settings","/team/admin/data_retention","/team/admin/security/alerts","/enterprise_console/settings","/enterprise_console/teams"];n<o.length;n++){var s=o[n];if(r===s||0===r.indexOf(s+"/")){r=s;break}}return 0===r.indexOf("/share/")&&(r="/share"),"/search/personal"===r?r="/personal":"/search/work"===r?r="/work":"/team_checklist"===r?r="/h":"/business/billing"===r&&(r="/team/admin/billing"),t.setPath(r),t.setQuery().setFragment(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.switchAccount=function(e,t){var a=r(window.location.href,e.viewer,e.viewer.getActiveUser().userId,t);a&&(sessionStorage.setItem("Ensemble.switchedAccounts","true"),window.location.href=a)},t._computeAccountSwitchUrl=r,t.isSharedLinkCase=n,t.computeFeatureBaseUrlFromUrl=o})),define("modules/clean/react/maestro_nav/maestro_nav",["require","exports","tslib","classnames","react","spectrum/vertically_fixed","modules/clean/appshell/account","modules/clean/react/css","modules/clean/react/maestro_nav/shared_code/api","modules/clean/react/maestro_nav/shared_code/maestro_sidebar","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/util/post_tti_components","modules/clean/upsell/prompt_event_emitter","modules/clean/viewer","modules/core/browser","modules/core/xhr","modules/clean/navigation","modules/clean/ajax","modules/clean/web_timing_logger","modules/clean/analytics","modules/clean/metrics/index","modules/clean/react/maestro/components/header_portal","modules/clean/react/maestro_nav/shared_code/maestro_context","modules/clean/browse_uri_interface"],(function(e,t,a,r,n,o,s,i,u,c,l,d,m,p,f,_,v,h,g,N,E,b,w,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),f=a.__importStar(f),h=a.__importStar(h),g=a.__importStar(g);var P=function(e,t){_.sendXhr("/teamswalogger",{event_name:e,extra:JSON.stringify(t),for_uids:JSON.stringify(p.Viewer.get_viewer().get_users().map((function(e){return e.id})))})};function k(e,t){function a(e){return s.computeFeatureBaseUrlFromUrl(e).getPath()}function r(e,t,r){var n=r.map(a);return-1!==n.indexOf(e)&&-1!==n.indexOf(t)}var n=a(t),o=a(e);return!!(r(n,o,["/home","/work","/personal","/history","/s","/sh","/scl"])||r(n,o,["/team/admin","/team/admin/members","/team/admin/external_people"])||r(n,o,["/organization","/enterprise_console/teams"]))||n===o}t.isFeatureActive=k;var y=function(){return window.location.href},A=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement(b.MaestroPortal,{maestroPortalExperiment:this.props.useMaestroPortal,element:b.MaestroPortalElement.NAV},n.default.createElement("button",{className:"maestro_nav__toggle",onClick:this.props.onClick,"aria-label":this.props.navToggleAriaLabel},n.default.createElement("svg",{width:"24",height:"18",viewBox:"0 0 24 18"},n.default.createElement("g",{fill:"#637282",fillRule:"evenodd"},n.default.createElement("rect",{x:"0",y:"0",width:"24",height:"2",rx:"1"}),n.default.createElement("rect",{x:"0",y:"8",width:"24",height:"2",rx:"1"}),n.default.createElement("rect",{x:"0",y:"16",width:"24",height:"2",rx:"1"})))))},t})(n.default.Component),I=function(e){return n.default.createElement("button",{className:"maestro_nav__curtain",onClick:e.onClick,"aria-label":e.navToggleAriaLabel})},C=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement(T,{activeAccountId:this.props.activeAccountId,viewerInfo:this.props.viewerInfo,products:this.props.products,isFeatureActive:k,hideCaretOnLogo:this.props.hideCaretOnLogo,showFileExplorer:this.props.showFileExplorer,allowSidebarNavigationDelegation:this.props.allowSidebarNavigationDelegation,useMaestroPortal:this.props.useMaestroPortal,hideFooterNav:this.props.hideFooterNav,showCollapsibleGroups:this.props.showCollapsibleGroups})},t})(n.default.Component),T=(function(t){function i(r){var o=t.call(this,r)||this;o.navigateToUrl=function(e){f.redirect(e)},o.navSwitchAccount=function(e){var t=p.Viewer.get_viewer();s.switchAccount(window.ensemble,t.get_user_by_role(e,!0).id)},o.handleNavToggle=function(){o.setState({isExpanded:!o.state.isExpanded})},o.hasSubNavItems=function(e){return e.subNavItems&&e.subNavItems.length>0},o.handleNavigationClick=function(t,r){if(r.isBlocked)switch(r.blockerModule){case"modules/clean/teams/locked_team_nav_blocker":return new Promise((function(t,a){e(["modules/clean/teams/locked_team_nav_blocker"],t,a)})).then(a.__importStar).then((function(e){return e.blocker.blockNav(r)})),void t.preventDefault();default:return}"admin"===r.uniqueName&&N.TeamsWebActionsLogger.log("home_page_admin_console_tab_clicked"),"adminMembers"===r.uniqueName&&N.TeamsWebActionsLogger.log("admin_console_page_members_tab_clicked"),o.props.allowSidebarNavigationDelegation&&v.navigationActionDispatcher.dispatch({id:r.uniqueName,method:v.getNavigationMethod(t),url:r.url,details:r})&&t.preventDefault()},o.renderLeftHA=function(){return o.state.haProps?n.default.createElement(d.PostTTILeftHA,a.__assign({},o.state.haProps)):null},o.renderInviteCta=function(){return"work"!==o.state.viewerInfo.activeRole?null:n.default.createElement(d.PostTTIInviteCta,{isHaShownOrLoading:o.state.isHaShownOrLoading})},o.logRedBadgeRendered=function(){var e;"Feature"===o.getNavType()&&o.state.activeProduct?(N.TeamsWebActionsLogger.log("admin_console_page_members_tab_badged"),(e=E.getMetricsReporter().child({origin:"Members"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"})).increment(1),e.record()):(N.TeamsWebActionsLogger.log("home_page_admin_console_tab_badged"),(e=E.getMetricsReporter().child({origin:"Admin Console"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"})).increment(1),e.record())},o._onFolderSelected=function(e,t){var a=o._getCurrentUser(),r=S.browse_uri_for_fq_path(a,encodeURIComponent(e));v.navigationActionDispatcher.dispatch({id:"fileExplorerUI",method:v.NavigationMethod.REDIRECT,url:r.toString(),details:void 0})||o.navigateToUrl(S.browse_uri_for_fq_path(a,e).toString())};var i=r.products,u=r.viewerInfo,c=r.showCollapsibleGroups,l=o.getActiveProduct(i),m=o.getActiveFeature(l);return o.state={isExpanded:!1,products:i,teamSize:null,numMembersString:null,viewerInfo:u,activeProduct:l,activeFeature:m,experiments:{},fetching:!0,numRequestsAndSuggestions:0,isHaShownOrLoading:!0,contextValue:{showCollapsibleGroups:c}},o}return a.__extends(i,t),i.getDerivedStateFromProps=function(e,t){var r={showCollapsibleGroups:e.showCollapsibleGroups};for(var n in r){var o=n;if(r[o]!==t.contextValue[o])return a.__assign(a.__assign({},t),{contextValue:r})}return t},i.prototype.getActiveProduct=function(e){var t=this;return e.find((function(e){return t._productIsActive(e)}))||null},i.prototype._productIsActive=function(e){return!!this.props.isFeatureActive(e.url,y())||!!this.getActiveFeature(e)},i.prototype.getActiveFeature=function(e){if(e)for(var t=0,a=e.features;t<a.length;t++){var r=a[t];if(this.hasSubNavItems(r))for(var n=0,o=r.subNavItems;n<o.length;n++){var s=o[n];if(this.props.isFeatureActive(s.url,y()))return s}if(this.props.isFeatureActive(r.url,y()))return r}return null},i.prototype.getActiveProductAndFeature=function(e){var t=this.getActiveProduct(e);return{activeProduct:t,activeFeature:this.getActiveFeature(t)}},i.prototype.componentDidMount=function(){var e=this,t=this.getActiveProduct(this.props.products);u.fetchNavData(this.props.activeAccountId,t?t.uniqueName:null,(function(t,a,r,n,o){var s=window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1;s&&window.performance.mark("MaestroNav data setState start"),n=n||e.state.viewerInfo;var i=e.getActiveProductAndFeature(t),u=i.activeProduct,c=i.activeFeature;e.setState({products:t,teamSize:a,numMembersString:r,viewerInfo:n,activeProduct:u,activeFeature:c,experiments:o||{},fetching:!1},(function(){s&&(window.performance.mark("MaestroNav data setState end"),window.performance.measure("MaestroNav data setState","MaestroNav data setState start","MaestroNav data setState end"))})),t.map((function(t){t.redNotification&&g.waitForTTI().then((function(){h.SilentBackgroundRequest({url:"/team/admin/fetch_num_membership_requests_and_suggestions",subject_user:p.Viewer.get_viewer().work_user,success:function(t){e.setState({numRequestsAndSuggestions:Number(t)})}})}))}))})),m.promptBufferedEventEmitter.on(m.Events.ON_PROMPT_DISMISSED,(function(t){"HOUSE_AD"===t&&e.setState({isHaShownOrLoading:!1})})),m.promptBufferedEventEmitter.on(m.Events.ON_PROMPT_INITIALIZED,(function(t){t&&t.didHouseAdLoad&&!t.didHouseAdLoad()&&e.setState({isHaShownOrLoading:!1})})),m.promptBufferedEventEmitter.on(m.Events.ON_HA_LOADED,(function(t){e.setState({haProps:t})}))},i.prototype.setTitle=function(e,t){t&&t.pageTitle?document.title=t.pageTitle:e&&e.pageTitle&&(document.title=e.pageTitle)},i.prototype.productHasFeatures=function(e){return!!e&&e.features.length>0},i.prototype.shouldUseFlattenedNav=function(){return!this.state.activeProduct||!["admin","federation"].includes(this.state.activeProduct.uniqueName)},i.prototype.getNavType=function(){return this.productHasFeatures(this.state.activeProduct)?"Feature":"Product"},i.prototype._getCurrentUser=function(){return p.Viewer.get_viewer().get_user_by_role(this.state.viewerInfo.activeRole,!1)},i.prototype.renderFileExplorer=function(){var e;if(this.props.showFileExplorer&&"allFiles"===(null===(e=this.state.activeFeature)||void 0===e?void 0:e.uniqueName)){var t=this._getCurrentUser();return n.default.createElement(d.PostTTITreeView,{user:t,onFolderSelected:this._onFolderSelected})}},i.prototype.render=function(){var e=(this.state.experiments||{}).featuresConfig,t=this.getNavType();this.setTitle(this.state.activeProduct,this.state.activeFeature);var a=r.default({"maestro-nav__offset-container":!0,"maestro-nav__expanded":this.state.isExpanded});return n.default.createElement(w.MaestroContext.Provider,{value:this.state.contextValue},n.default.createElement(o.VerticallyFixed,{className:a},n.default.createElement(A,{onClick:this.handleNavToggle,navToggleAriaLabel:l.navToggleAriaLabel(),useMaestroPortal:this.props.useMaestroPortal}),n.default.createElement(I,{onClick:this.handleNavToggle,navToggleAriaLabel:l.navToggleAriaLabel()}),n.default.createElement(c.MaestroSidebar,{activeFeature:this.state.activeFeature,activeProduct:this.state.activeProduct,onNavigationClick:this.handleNavigationClick,products:this.state.products,navType:t,navigateToUrl:this.navigateToUrl,switchAccount:this.navSwitchAccount,viewerInfo:this.state.viewerInfo,teamSize:this.state.teamSize,numMembersString:this.state.numMembersString,numRequestsAndSuggestions:this.state.numRequestsAndSuggestions,logRedBadgeRendered:this.logRedBadgeRendered,logger:P,renderLeftHA:this.renderLeftHA,fetching:this.state.fetching,featuresConfig:e,hideCaretOnLogo:this.props.hideCaretOnLogo,flattenedNav:this.shouldUseFlattenedNav(),renderInviteCta:this.renderInviteCta,hideFooterNav:this.props.hideFooterNav,fileExplorerUI:this.renderFileExplorer()})))},i})(n.default.Component);t.MaestroNavInternal=T;var L=i.requireCssWithComponent(C,["/static/css/dig-components/index.web-vflyKkT3N.css","/static/css/maestro-nav/maestro-nav-vflcvHC-M.css"]);t.MaestroNav=L;var x=function(e){return n.default.createElement("div",{className:"maestro-nav-component"},n.default.createElement(L,a.__assign({},e)))};t.MaestroNavWithWrapper=x,t.RootComponent=function(e){return n.default.createElement(x,a.__assign({},e))}})),define("modules/clean/react/maestro_nav/post_tti/api",["require","exports","tslib","modules/clean/web_timing_logger","modules/clean/react/async/loadable"],(function(e,t,a,r,n){"use strict";function o(){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,r.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,a){e(["modules/clean/react/maestro_nav/post_tti/interface"],t,a)})).then(a.__importStar)];case 2:return[2,t.sent()]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForHomeTTI=o,t.PostNavTTIComponent=function(e){var t=this,r=e.getPostTTIRenderer,s=e.preTTIRenderer;return n.Loadable({loader:function(){return a.__awaiter(t,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return e=r,[4,o()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},loading:s})}})),define("modules/clean/react/maestro_nav/shared_code/api",["require","exports","modules/clean/react/maestro_nav/shared_code/constants"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNavData=function(e,t,r){var n=new XMLHttpRequest,o="https://"+a.WWW_HOST+"/nav_menu?_subject_account_id="+e+"&nav_data_version=5";t&&(o+="&product="+t),n.open("GET",o,!0),n.withCredentials=!0,n.onload=function(){if(!(n.status>=200&&n.status<400))throw new Error("Error status "+n.status+" returned from /nav_menu");try{var e=JSON.parse(n.responseText);r(e.products,e.teamSize,e.numMembersString,e.viewerInfo,e.experiments)}catch(e){throw new Error('Error "'+String(e)+'" JSON parsing "'+n.responseText+'" (status: '+n.status+")")}},n.onerror=function(e){var t=e,a={message:t.message,colno:t.colno,filename:t.filename,lineno:t.lineno};throw new Error('Error calling /nav_menu. "'+JSON.stringify(a)+'"')},n.send()}})),define("modules/clean/react/maestro_nav/shared_code/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WWW_HOST="www.dropbox.com"})),define("modules/clean/react/maestro_nav/shared_code/feature-nav",["require","exports","tslib","classnames","react","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/left_arrow_icon","modules/clean/react/maestro_nav/shared_code/notification_badge","dig-components/badges"],(function(e,t,a,r,n,o,s,i,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var l=(function(e){function t(t){var r=e.call(this,t)||this;r.onFeatureClick=function(e){return r.hasSubNavItems(e)?function(t){r.toggleNavItemMenu(e.uniqueName),t.target.blur()}:function(t){return r.props.onNavigationClick(t,e)}},r.onProductClick=function(e){return function(t){return r.props.onNavigationClick(t,e)}},r.hasSubNavItems=function(e){return e.subNavItems&&e.subNavItems.length>0},r.toggleNavItemMenu=function(e){var t,n=r.isNavItemMenuExpanded(e),o=a.__assign(a.__assign({},r.state.navItemMenuExpanded),((t={})[e]=!n,t));r.setState({navItemMenuExpanded:o})},r.isNavItemMenuExpanded=function(e){return!0===r.state.navItemMenuExpanded[e]};var n=r.createNavItemMenuExpanded();return r.state={navItemMenuExpanded:n},r}return a.__extends(t,e),t.prototype.createNavItemMenuExpanded=function(){var e,t=this.props,a=t.activeFeature,r=t.features;if(a&&a.uniqueName)for(var n=0,o=r;n<o.length;n++){var s=o[n];if(s.subNavItems)for(var i=0,u=s.subNavItems;i<u.length;i++){if(u[i].uniqueName===a.uniqueName)return(e={})[s.uniqueName]=!0,e}}return{}},t.prototype.renderDisplaySuperscript=function(e){return n.default.createElement(c.AccessoryBadge,{className:"maestro-nav__feature-badge"},e)},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,c=t.activeFeature,l=t.features,d=t.numRequestsAndSuggestions,m=t.logRedBadgeRendered,p=void 0!==a.redNotification&&a.redNotification&&(null==c||"adminMembers"!==c.uniqueName)&&d>0,f="admin"===a.uniqueName,_=r.default({"maestro-nav__features-header-link":!0,"maestro-nav__features-header-link-with-fontfamily":f});return n.default.createElement("ul",{className:"maestro-nav__features"},n.default.createElement("li",null,n.default.createElement("h2",{className:"maestro-nav__features-header"},n.default.createElement("a",{href:a.url,onClick:this.onProductClick(a),className:_},a.displayName))),l.map((function(t,a){var c=t.url,l=t.subNavItems&&t.subNavItems.length>0,d=e.isNavItemMenuExpanded(t.uniqueName),f=t===e.props.activeFeature||l&&!d&&-1!==t.subNavItems.indexOf(e.props.activeFeature),_=r.default({"maestro-nav__feature":!0,"maestro-nav__active-feature":f,"maestro-nav__blocked-feature":t.isBlocked});return n.default.createElement("li",{key:c},n.default.createElement("div",{className:"maestro-nav__feature-wrap"},n.default.createElement(s.UserEducationEffect,{containerName:"FeatureNav",name:t.uniqueName,useSpan:!0},n.default.createElement("a",{href:t.isBlocked||l?"#":c,className:_,onClick:e.onFeatureClick(t),"data-trackingid":"feat-"+t.uniqueName},t.displayName,t.displaySuperscript?e.renderDisplaySuperscript(t.displaySuperscript):void 0,t.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),"adminMembers"===t.uniqueName&&p&&n.default.createElement(u.NotificationBadge,{logRedBadgeRendered:m}),l&&n.default.createElement(i.LeftArrowIcon,{className:r.default({"maestro-nav__expand_feature":!d,"maestro-nav__collapse_feature":d})})))),d&&l&&t.subNavItems.map((function(t){var a=r.default({"maestro-nav__feature":!0,"maestro-nav__active-feature":t===e.props.activeFeature,"maestro-nav__blocked-feature":t.isBlocked});return n.default.createElement("div",{key:t.uniqueName,className:"maestro-nav__feature-wrapper maestro-nav__product-sup-item-wrapper"},n.default.createElement("a",{href:t.isBlocked?"#":t.url,className:a,onClick:e.onFeatureClick(t),"data-trackingid":"feat-"+t.uniqueName},t.displayName,t.displaySuperscript?e.renderDisplaySuperscript(t.displaySuperscript):void 0,t.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"})))})))})))},t})((n=a.__importDefault(n)).default.Component);t.FeatureNav=l})),define("modules/clean/react/maestro_nav/shared_code/flattened-nav",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/shared_code/maestro_product"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderDropboxLogo=function(){var e=this.props.onHomeClick,t=r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":o.homeAriaLabel()});return this.props.dropboxLogoUrl?r.default.createElement("a",{className:"maestro-nav__home-button",href:this.props.dropboxLogoUrl,onClick:e,"data-trackingid":"logo"},t):t},t.prototype.render=function(){var e=this.props,t=e.activeFeature,a=e.activeProduct,n=e.onNavigationClick,o=e.numRequestsAndSuggestions,i=e.logRedBadgeRendered,u=e.products,c=e.fileExplorerUI;return r.default.createElement("div",{className:"maestro-nav__panel"},this.renderDropboxLogo(),r.default.createElement("div",{className:"maestro-nav__contents"},r.default.createElement("ul",{className:"maestro-nav__products"},u.map((function(e){return r.default.createElement(s.MaestroProduct,{key:e.uniqueName,activeFeature:t,activeProduct:a,logRedBadgeRendered:i,numRequestsAndSuggestions:o,product:e,onNavigationClick:n})}))),c),this.props.renderLeftHA&&this.props.renderLeftHA(),this.props.renderInviteCta&&this.props.renderInviteCta())},t})((r=a.__importDefault(r)).default.Component);t.FlattenedNav=i})),define("modules/clean/react/maestro_nav/shared_code/footer_nav",["require","exports","tslib","react","classnames","react-aria-menubutton","modules/clean/react/maestro_nav/shared_code/constants","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client"],(function(e,t,a,r,n,o,s,i,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),o=a.__importStar(o);var l,d=function(e){var t=e.className;return r.default.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.default.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"form",transform:"translate(-160.000000, -32.000000)",fill:"#000000"},r.default.createElement("g",{id:"form-switcher",transform:"translate(160.000000, 32.000000)"},r.default.createElement("path",{d:"M10.5,9 L8.26000214,9 L12.0100021,4 L15.7600021,9 L13.5,9 L12,7 L10.5,9 Z",id:"Combined-Shape"}),r.default.createElement("path",{d:"M10.5,20 L8.26000214,20 L12.0100021,15 L15.7600021,20 L13.5,20 L12,18 L10.5,20 Z",id:"Combined-Shape",transform:"translate(12.010002, 17.500000) scale(1, -1) translate(-12.010002, -17.500000) "})))))},m=function(e){var t=e.className;return r.default.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.default.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"form",transform:"translate(-32.000000, -96.000000)",fill:"#000000"},r.default.createElement("g",{id:"check",transform:"translate(32.000000, 96.000000)"},r.default.createElement("path",{d:"M13.1239594,15.613961 L9.12395935,15.613961 L9.12395935,17.613961 L14.1239594,17.613961 L15.1239594,17.613961 L15.1239594,5.61396103 L13.1239594,5.61396103 L13.1239594,15.613961 Z",id:"Combined-Shape",transform:"translate(12.123959, 11.613961) rotate(-315.000000) translate(-12.123959, -11.613961) "})))))},p="team/admin/members",f="team";(function(e){e[e.ADD_PERSONAL=0]="ADD_PERSONAL",e[e.ADD_WORK=1]="ADD_WORK",e[e.GOTO_WORK=2]="GOTO_WORK",e[e.GOTO_PERSONAL=3]="GOTO_PERSONAL"})(l||(l={}));var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strings=i.footerStrings(),t.handleSelection=function(e){var a=t.props,r=a.activeRole,n=a.navigateToUrl,o=a.switchAccount;switch(e){case l.ADD_PERSONAL:n("https://"+s.WWW_HOST+"/team/join/new_pair");break;case l.ADD_WORK:n("https://"+s.WWW_HOST+"/team?_tk=account_switcher");break;case l.GOTO_PERSONAL:"work"===r&&o("personal");break;case l.GOTO_WORK:"personal"===r&&o("work")}},t.handleMenuButtonClick=function(e){var a=t.props,r=a.logger,n=a.userPlanType;r&&n&&r("clicked_acct_switcher",{user_plan_type:n}),c.UEClient.sendEvent("NavSwitcher","MenuButtonClicked")},t.handleTeamPagePress=function(e){13===e.keyCode&&(e.preventDefault(),c.UEClient.sendEvent("NavSwitcher","TeamPageAction"),t.navigateToTeamPage()),e.stopPropagation()},t.handleTeamPageClick=function(e){e.stopPropagation(),c.UEClient.sendEvent("NavSwitcher","TeamPageAction"),t.navigateToTeamPage()},t.navigateToTeamPage=function(){var e,a=t.props,r=a.isAdmin,n=a.isPaidTeam;e=r&&n?p:f,t.props.navigateToUrl("https://"+s.WWW_HOST+"/"+e)},t.MenuItem=function(e){return r.default.createElement(o.MenuItem,{className:n.default({"maestro-nav-switcher-menu-item":!0,"maestro-nav-switcher-menu-item--selected":e.selected}),role:"menuitemradio","aria-checked":e.selected?"true":"false",value:e.value},r.default.createElement(m,{className:"maestro-nav-switcher-menu-item__checkmark"}),r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__info"},r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__title"},e.label),r.default.createElement(u.UserEducationEffect,{containerName:"NavSwitcher",name:"ActionMenuItem"+(e.selected?"Selected":"")},r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__action"},e.action))))},t.Menu=function(){var e,a,n,s,i,c,d=t.strings,m=t.props,p=m.teamName,f=m.isPaired,_="personal"===m.activeRole;if(f||_?(e=d.personalString,a=null,n=l.GOTO_PERSONAL):(e=d.addPersonalDropboxString,a=r.default.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},d["2GbFreeString"]),n=l.ADD_PERSONAL),!f&&_)s=d.tryDropboxBusinessFreeString,c=l.ADD_WORK;else{s=p||d.workString;var v=t.getTeamActionLabel();i=_?r.default.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},v):r.default.createElement("button",{onKeyDown:t.handleTeamPagePress,onClick:t.handleTeamPageClick},v),c=l.GOTO_WORK}return r.default.createElement(o.Menu,{className:"maestro-nav-switcher-menu"},r.default.createElement(u.UserEducationEffect,{containerName:"NavSwitcher",name:"AriaMenuButton.Menu"},r.default.createElement(t.MenuItem,{selected:!_,label:s,action:i,value:c}),r.default.createElement(t.MenuItem,{selected:_,label:e,action:a,value:n})))},t.navSwitcherInfo=function(){var e,a,n=t.strings,o=t.props,s=o.teamName,i=o.numMembersString;return"personal"===o.activeRole?(e=n.personalString,a=n.onlyYouString):(e=s,a=null==i?n.workDropboxString:i),r.default.createElement("div",{className:"maestro-nav-switcher-button__info"},r.default.createElement("div",{className:"maestro-nav-switcher-button__title"},e),r.default.createElement("div",{className:"maestro-nav-switcher-button__label"},a))},t.MenuButton=function(){return r.default.createElement(o.Button,{className:"maestro-nav-switcher-button"},r.default.createElement("div",{className:"maestro-nav-switcher-button__content",onClick:t.handleMenuButtonClick},r.default.createElement(t.navSwitcherInfo,null),r.default.createElement(d,{className:"maestro-nav-switcher-button__icon"})))},t}return a.__extends(t,e),t.prototype.getTeamActionLabel=function(){var e=this.strings,t=this.props,a=t.teamSize,r=t.numMembersString,n="personal"===t.activeRole;return null==a?n?e.workDropboxString:e.groupsAndMembersString:n||a<50?r:e.groupsAndMembersString},t.prototype.render=function(){return this.props.makeSwitcherReadOnly?r.default.createElement("div",{className:"maestro-nav-switcher"},r.default.createElement("div",{className:"maestro-nav-switcher-button__content"},r.default.createElement(this.navSwitcherInfo,null))):r.default.createElement(o.Wrapper,{className:"maestro-nav-switcher",onSelection:this.handleSelection,closeOnSelection:!1},r.default.createElement(this.MenuButton,null),r.default.createElement(this.Menu,null))},t})(r.default.Component),v=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t.prototype,"showReadOnly",{get:function(){var e=this.props,t=e.fetching,a=e.featuresConfig,r=e.viewerInfo;if(t||r.isGuestAdmin)return!0;var n=r.activeRole,o=r.isPaired,s="personal"===n,i=a&&a.hideDropboxBusinessUpsell;return Boolean(i)&&!o&&s},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.teamSize,a=e.numMembersString,n=e.viewerInfo,o=e.navigateToUrl,s=e.switchAccount,i=e.logger,c=n.activeRole,l=n.isAdmin,d=n.isPaidTeam,m=n.isPaired,p=n.teamName,f=n.userPlanType;return r.default.createElement("div",{className:"maestro-nav-footer"},r.default.createElement(u.UserEducationEffect,{containerName:"FooterNav",name:"NavSwitcher"},r.default.createElement(_,{teamSize:t,numMembersString:a,teamName:p,isPaired:m,navigateToUrl:o,switchAccount:s,activeRole:c,isAdmin:l,isPaidTeam:d,userPlanType:f,logger:i,makeSwitcherReadOnly:this.showReadOnly})))},t})(r.default.Component);t.FooterNav=v})),define("modules/clean/react/maestro_nav/shared_code/left_arrow_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.LeftArrowIcon=function(e){return r.default.createElement("svg",a.__assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}),r.default.createElement("title",null,e.alt||"Left arrow"),r.default.createElement("g",{id:"arrow",transform:"translate(-32.000000, -32.000000)"},r.default.createElement("g",{id:"arrow-left",transform:"translate(32.000000, 32.000000)"},r.default.createElement("polygon",{id:"Combined-Shape",points:"12.9497475 7.05000305 8 11.9997505 12.9497475 16.949498 14.363961 15.5352844 10.8284271 11.9997505 14.363961 8.46421661"}))))}})),define("modules/clean/react/maestro_nav/shared_code/lock_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.LockIcon=function(e){return r.default.createElement("svg",a.__assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"8px",height:"10px",viewBox:"0 0 8 10"}),r.default.createElement("title",null,e.alt||"Lock"),r.default.createElement("g",{"fill-rule":"evenodd",style:{fill:"none"}},r.default.createElement("path",{d:"M1.5,5.0233365 C1.61081383,5.07571391 1.79156144,5.1271516 2.02641537,5.1695923 C2.53116508,5.26080616 3.23772228,5.30304304 3.99147442,5.29018883 C4.72697272,5.27764591 5.44536431,5.2134662 5.96818405,5.1130429 C6.19749663,5.0689965 6.37973948,5.0195837 6.5,4.97094138 C6.5,4.61127567 6.5,4.5367094 6.5,3.97982189 L6.5,2.55833246 C6.5,1.44077827 5.39680687,0.5 4,0.5 C2.60319313,0.5 1.5,1.44077827 1.5,2.55833246 L1.5,4.08873795 C1.5,4.48924589 1.5,4.52037046 1.5,5.0233365 Z",style:{stroke:"#6a7c8f",strokeWidth:1}}),r.default.createElement("rect",{x:"0.5",y:"4.5",width:"7",height:"5",rx:"1",style:{fill:"#6a7c8f",stroke:"#6a7c8f",strokeWidth:1}})))}})),define("modules/clean/react/maestro_nav/shared_code/maestro_context",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.MaestroContext=r.default.createContext(void 0)})),define("modules/clean/react/maestro_nav/shared_code/maestro_feature",["require","exports","tslib","classnames","react","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/lock_icon","dig-components/badges","modules/clean/react/maestro_nav/shared_code/notification_badge"],(function(e,t,a,r,n,o,s,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),t.MaestroFeature=function(e){var t=e.feature,a=e.openInNewPage,c=e.renderBadge,l=e.isActive,d=e.onNavigationClick,m=e.logRedBadgeRendered,p=t.displayName,f=t.displaySuperscript,_=t.uniqueName,v=t.url,h=t.isBlocked,g=r.default({"maestro-nav__product":!0,"maestro-nav__active-product":l,"maestro-nav__blocked-feature":h}),N=a?"_blank":"_self";return n.default.createElement("li",{key:v},n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(o.UserEducationEffect,{containerName:"FeatureNav",name:_,useSpan:!0},n.default.createElement("a",{href:h?"#":v,className:g,onClick:function(e){return d(e,t)},target:N,rel:"noopener","data-trackingid":"feat-"+_},p,!!f&&n.default.createElement(i.AccessoryBadge,{className:"maestro-nav__feature-badge"},f),h&&n.default.createElement(s.LockIcon,{className:"maestro-nav__lock"}),"admin"===_&&c&&n.default.createElement(u.NotificationBadge,{logRedBadgeRendered:m})))))},t.MaestroFeature.displayName="MaestroFeature"})),define("modules/clean/react/maestro_nav/shared_code/maestro_product",["require","exports","tslib","classnames","react","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/react/maestro_nav/shared_code/notification_badge","modules/clean/react/maestro_nav/shared_code/maestro_feature","dig-components/icons","dig-components/buttons","dig-components/icons/src","modules/clean/react/maestro_nav/shared_code/maestro_context"],(function(e,t,a,r,n,o,s,i,u,c,l,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),t.MaestroProduct=function(e){var t=e.product,a=e.activeProduct,p=e.activeFeature,f=e.numRequestsAndSuggestions,_=e.onNavigationClick,v=e.logRedBadgeRendered,h=t.displayName,g=t.openInNewPage,N=t.features,E=t.isBlocked,b=t.displaySuperscript,w=t.displaySuperscriptStyle,S=t.url,P=t.uniqueName,k=n.default.useState(!1),y=k[0],A=k[1],I=!0===(n.default.useContext(m.MaestroContext)||{}).showCollapsibleGroups&&!!N.length,C=f>0,T=N.length>0,L=r.default({"maestro-nav__product":!0,"maestro-nav__product-group":T,"maestro-nav__active-product":t===a&&!T,"maestro-nav__blocked-feature":E}),x=(function(e,t){if(e)switch(t){case"badge":return n.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return n.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}})(b,w),O=n.default.createElement(n.default.Fragment,null,h,x,E&&n.default.createElement(s.LockIcon,{className:"maestro-nav__lock"}),!T&&"admin"===P&&C&&n.default.createElement(i.NotificationBadge,{logRedBadgeRendered:v})),R=g?"_blank":"_self";return n.default.createElement("li",{key:S},n.default.createElement("div",{className:T?"maestro-nav__product_group-wrapper":"maestro-nav__product-wrapper"},n.default.createElement(o.UserEducationEffect,{containerName:"ProductNav",name:P,useSpan:!0},I?n.default.createElement(l.Button,{className:"maestro-nav__product_caret",onClick:function(){return A((function(e){return!e}))},variant:"transparent",hasNoUnderline:!0,withIconLeft:n.default.createElement(c.UIIcon,{src:y?d.ChevronRightLine:d.ChevronDownLine})},O):T?n.default.createElement("h2",{className:L,id:P,"data-trackingid":"prod-"+P},O):n.default.createElement("a",{"aria-current":t===a&&"page",href:E?"#":S,className:L,id:P,onClick:function(e){return _(e,t)},target:R,rel:"noopener","data-trackingid":"prod-"+P},O)),T&&!y&&n.default.createElement("ul",{className:"maestro-nav__features"},N.map((function(e){return n.default.createElement(u.MaestroFeature,{key:e.uniqueName,isActive:p===e,feature:e,renderBadge:C,onNavigationClick:_,openInNewPage:!!g,logRedBadgeRendered:v})})))))},t.MaestroProduct.displayName="MaestroProduct"})),define("modules/clean/react/maestro_nav/shared_code/maestro_sidebar",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/constants","modules/clean/react/maestro_nav/shared_code/footer_nav","modules/clean/react/maestro_nav/shared_code/nested-nav","modules/clean/react/maestro_nav/shared_code/flattened-nav"],(function(e,t,a,r,n,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.renderContents=function(){return this.props.flattenedNav?r.createElement(i.FlattenedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",hideCaret:this.props.hideCaretOnLogo,numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered,renderInviteCta:this.props.renderInviteCta,fileExplorerUI:this.props.fileExplorerUI}):r.createElement(s.NestedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,nestedNavLevel:this.props.navType,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered,hideCaret:this.props.hideCaretOnLogo,renderInviteCta:this.props.renderInviteCta})},t.prototype.renderFooter=function(){return r.createElement(o.FooterNav,{navigateToUrl:this.props.navigateToUrl,switchAccount:this.props.switchAccount,viewerInfo:this.props.viewerInfo,teamSize:this.props.teamSize,numMembersString:this.props.numMembersString,logger:this.props.logger,fetching:this.props.fetching,featuresConfig:this.props.featuresConfig})},t.prototype.render=function(){return r.createElement("div",{className:"maestro-nav__container"},this.renderContents(),!this.props.hideFooterNav&&this.renderFooter())},t})((r=a.__importStar(r)).Component);t.MaestroSidebar=u})),define("modules/clean/react/maestro_nav/shared_code/notification_badge",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.NotificationBadge=function(e){var t=e.logRedBadgeRendered;return r.default.useEffect((function(){return t()}),[]),r.default.createElement("span",{className:"maestro-nav__admin-console-badge"})}})),define("modules/clean/react/maestro_nav/shared_code/nested-nav",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/feature-nav","modules/clean/react/maestro_nav/shared_code/product-nav","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/shared_code/left_arrow_icon"],(function(e,t,a,r,n,o,s,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderContents=function(){if("Feature"===this.props.nestedNavLevel&&this.props.activeProduct){var e=this.props.activeProduct;return r.default.createElement(o.FeatureNav,{activeProduct:e,activeFeature:this.props.activeFeature,features:e.features,onNavigationClick:this.props.onNavigationClick,numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered})}return r.default.createElement(s.ProductNav,{products:this.props.products,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,logRedBadgeRendered:this.props.logRedBadgeRendered})},t.prototype.renderDropboxLogo=function(){var e=this.props,t=e.hideCaret,a=e.nestedNavLevel,o=e.onHomeClick,s="Feature"===a&&!t,c=r.default.createElement(u.LeftArrowIcon,{className:"maestro-nav__caret"}),l=r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":i.homeAriaLabel()});return this.props.dropboxLogoUrl?r.default.createElement("a",{className:"maestro-nav__home-button",href:this.props.dropboxLogoUrl,onClick:o,"data-trackingid":"logo"},l,s&&c):l},t.prototype.render=function(){return r.default.createElement("div",{className:"maestro-nav__panel"},this.renderDropboxLogo(),r.default.createElement("div",{className:"maestro-nav__contents"},this.renderContents()),this.props.renderLeftHA&&this.props.renderLeftHA(),this.props.renderInviteCta&&this.props.renderInviteCta())},t})((r=a.__importDefault(r)).default.Component);t.NestedNav=c})),define("modules/clean/react/maestro_nav/shared_code/product-nav",["require","exports","tslib","react","classnames","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/notification_badge"],(function(e,t,a,r,n,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n);var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t}return a.__extends(t,e),t.prototype.renderDisplaySuperscript=function(e,t){if(e)switch(t){case"badge":return r.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return r.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,u=t.products,c=t.numRequestsAndSuggestions,l=t.logRedBadgeRendered,d=c>0;return r.default.createElement("ul",{className:"maestro-nav__products"},u.map((function(t){var u=n.default({"maestro-nav__product":!0,"maestro-nav__active-product":t===a,"maestro-nav__blocked-feature":t.isBlocked}),c=t.openInNewPage?"_blank":"_self",m=e.renderDisplaySuperscript(t.displaySuperscript,t.displaySuperscriptStyle);return r.default.createElement("li",{key:t.url},r.default.createElement("div",{className:"maestro-nav__product-wrapper"},r.default.createElement(s.UserEducationEffect,{containerName:"ProductNav",name:t.uniqueName,useSpan:!0},r.default.createElement("a",{"aria-current":t===a&&"page",href:t.isBlocked?"#":t.url,className:u,id:t.uniqueName,onClick:e.onClick(t),target:c,rel:"noopener","data-trackingid":"prod-"+t.uniqueName},t.displayName,m,t.isBlocked&&r.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),t.redNotification&&d&&r.default.createElement(i.NotificationBadge,{logRedBadgeRendered:l})))))})))},t})(r.default.Component);t.ProductNav=u})),define("modules/clean/react/maestro_nav/shared_code/strings",["require","exports","tslib","modules/constants/maestro_nav_strings"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),t.footerStrings=function(){return r.footerStrings},t.homeAriaLabel=function(){return r.homeAriaLabel},t.navToggleAriaLabel=function(){return r.navToggleAriaLabel}})),define("modules/clean/react/maestro_nav/util/post_tti_components",["require","exports","tslib","react","modules/clean/react/maestro_nav/post_tti/api"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.PostTTILeftHA=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.MaestroHA;return function(e){return r.default.createElement(t,{haProps:e})}}}),t.PostTTIInviteCta=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.SuggestMembersButtonWithData;return function(e){return r.default.createElement(t,a.__assign({},e))}}}),t.PostTTITreeView=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.UserFolderTreeView;return function(e){return r.default.createElement(t,a.__assign({},e))}}})})),define("modules/clean/upsell/prompt_init",["require","exports","tslib","modules/clean/upsell/exception","modules/clean/upsell/prompt_event_emitter"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r);var o=(function(){function e(e){this.prompt_loaded_status=e}return e.prototype.didHeaderBubbleLoad=function(){return!!this.prompt_loaded_status.HEADER_BUBBLE},e.prototype.didHomeModalLoad=function(){return!0==!!this.prompt_loaded_status.HOME_MODAL},e.prototype.didTargetedBubbleLoad=function(){return!0==!!this.prompt_loaded_status.TARGETED_BUBBLE},e.prototype.didHeaderLinkLoad=function(){return!0==!!this.prompt_loaded_status.HEADER_LINK},e.prototype.didCampaignForUserEducationLoad=function(){return!!this.prompt_loaded_status.ONBOARDING_MODULE},e.prototype.didMainCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didTargetedBubbleLoad()||this.didHomeModalLoad()},e.prototype.didAccountHeaderCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didHeaderLinkLoad()},e.prototype.didTopNotificationLoad=function(){return!!this.prompt_loaded_status.TOP_NOTIFICATION},e.prototype.didHouseAdLoad=function(){return!!this.prompt_loaded_status.HOUSE_AD},e.prototype.didAnyContentLoad=function(){return this.didHeaderBubbleLoad()||this.didHomeModalLoad()||this.didTargetedBubbleLoad()||this.didHeaderLinkLoad()||this.didTopNotificationLoad()},e})();t.ResponseParser=o,t.initialize_module=function(e){window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1&&window.performance.mark("PromptInit start");try{var t=new o(e.prompt_loaded_status);n.promptBufferedEventEmitter.emit(n.Events.ON_PROMPT_INITIALIZED,t)}catch(t){r.reportException({err:t,tags:[r.TAGS.PROMPT_INIT],exc_extra:{param_config:e}})}}})),define("modules/clean/upsell/prompt_event_emitter",["require","exports","tslib","eventemitter3"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var n=["HOME_INLINE_CONTENT"];function o(e){return"ON_"+e+"_LOADED"}var s={ON_HA_LOADED:"ON_HA_LOADED",REACT_HA_DID_UPDATE:"REACT_HA_DID_UPDATE",ON_PROMPT_INITIALIZED:"ON_PROMPT_INITIALIZED",ON_PROMPT_SHOWN:"ON_PROMPT_SHOWN",ON_PROMPT_DISMISSED:"ON_PROMPT_DISMISSED"};t.Events=s;for(var i=0,u=n;i<u.length;i++){var c=o(u[i]);s[c]=c}var l=new r.default;t.eventEmitter=l;var d=(function(e){function t(){var t=e.call(this)||this;return t.allEventBuffers={},t.delegatedEvents={},t}return a.__extends(t,e),t.prototype.on=function(t,a){var r=this;e.prototype.on.call(this,t,a);var n=this.allEventBuffers[t.toString()];return void 0!==n&&n.forEach((function(e){r.emit(t,e)})),this},t.prototype.emit=function(t,a){return t=t.toString(),void 0===this.allEventBuffers[t]&&(this.allEventBuffers[t]=[]),this.allEventBuffers[t].push(a),e.prototype.emit.call(this,t,a)},t.prototype.maybeEmitDelegatedEvent=function(e){var t=[];for(var a in e){var r=e[a];if(r){var s=r.campaign.campaignLocationId;if(-1!==n.indexOf(s)){var i=o(s);i in this.delegatedEvents||(this.delegatedEvents[i]=!0,t.push(s),this.emit(i,r))}}}return t},t.prototype.reset=function(){this.allEventBuffers={},this.delegatedEvents={},this.removeAllListeners()},t})(r.default);t.BufferedEventEmitter=d,window.ensemble&&!window.ensemble.bufferedEventEmitter&&(window.ensemble.bufferedEventEmitter=new d);var m=window.ensemble&&window.ensemble.bufferedEventEmitter?window.ensemble.bufferedEventEmitter:new d;t.promptBufferedEventEmitter=m}));
//# sourceMappingURL=pkg-maestro-nav.min.js-vfltiPu7Q.map