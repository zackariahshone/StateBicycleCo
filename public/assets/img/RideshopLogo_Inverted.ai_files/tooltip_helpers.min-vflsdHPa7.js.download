define(["require","exports","tslib","react-intl","modules/core/i18n","modules/clean/datetime","modules/clean/previews/util","modules/clean/react/pass/constants","modules/constants/file_viewer","modules/clean/react/teams/team_discovery/data/model","modules/core/window","modules/clean/analytics","modules/clean/react/modal","modules/clean/teams/suggest_invites_modal","modules/clean/contacts/contact","modules/clean/react/pass/utils","react","modules/clean/teams/admin/widgets/invite_modal/invite_modal"],(function(e,t,a,s,n,i,o,d,r,m,l,u,g,f,c,M,p,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),p=a.__importDefault(p),t.buildSeenStateMessage=function(e){return e.isActive?n.intl.formatMessage({id:"EhtH9U",defaultMessage:"Viewing now"}):null!=e.whenLastSeen?(function(e){var t=i.ago(1e3*e.whenLastSeen,!1),a=n.intl.formatMessage({id:"03+wm0",defaultMessage:"Viewed {timeAgo}"},{timeAgo:t});if(o.shouldShowPlatformInfo()){var s=e.platformType;s===d.PassPlatform.DESKTOP?a=n.intl.formatMessage({id:"UaiFvq",defaultMessage:"Viewed {timeAgo} on desktop"},{timeAgo:t}):s===d.PassPlatform.WEB?a=n.intl.formatMessage({id:"xK2zMz",defaultMessage:"Viewed {timeAgo} on web"},{timeAgo:t}):s===d.PassPlatform.MOBILE&&(a=n.intl.formatMessage({id:"OmxUNA",defaultMessage:"Viewed {timeAgo} on mobile"},{timeAgo:t}))}return a})(e):(function(e){switch(e){case"owner":return n.intl.formatMessage({id:"/i1m6q",defaultMessage:"Owner"});case"writer":return n.intl.formatMessage({id:"yH9Gqv",defaultMessage:"Can edit"});case"reader":return n.intl.formatMessage({id:"y7bSVp",defaultMessage:"Can comment"});case"reader_no_comment":case void 0:return n.intl.formatMessage({id:"Xoza1y",defaultMessage:"Can view"})}})(e.accessLevel)},t.getOnVsOffTeamExperiment=function(){return["ON","LIMITED"].includes(r.ON_VS_OFF_TEAM_PREVIEWS_EXPERIMENT)},t.getOnVsOffTeamLimitedVariant=function(){return"LIMITED"===r.ON_VS_OFF_TEAM_PREVIEWS_EXPERIMENT};var E=s.defineMessage({id:"cIE9zv",defaultMessage:"Outside {teamname}"}),_=n.intl.formatMessage({id:"L3BzP5",defaultMessage:"Invite to team"}),w=n.intl.formatMessage({id:"XfAovr",defaultMessage:"Join team"}),T=s.defineMessage({id:"qRTK38",defaultMessage:"Member of {teamname}"}),x=n.intl.formatMessage({id:"DOjvpK",defaultMessage:"Sending request..."}),S=n.intl.formatMessage({id:"FomW4x",defaultMessage:"Request sent"}),P=n.intl.formatMessage({id:"Q6HGJm",defaultMessage:"Joined"});t.buildTeamExpandReasons=function(e){var t=[];return e&&(t.push(n.intl.formatMessage({id:"jDD++i",defaultMessage:"Content stays within the team"})),t.push(n.intl.formatMessage({id:"/a4H7F",defaultMessage:"Theyâ€™ll get instant access to files"})),t.push(n.intl.formatMessage({id:"LL9D7n",defaultMessage:"Enough space to do their work"}))),t},t.buildInviteToTeamProps=function(e,a,s){var i=s.team_name,o=s.team_id;return{teamExpandPrimaryText:n.intl.formatMessage(E,{teamname:i}),teamExpandButtonText:_,teamExpandReasonsText:t.buildTeamExpandReasons(e),teamExpandButtonHandler:function(){l.sendBrowserAgnosticEvent(window,"resize"),g.Modal.showInstance(p.default.createElement(v.InviteModal,{emails:e.email?[e.email]:[],origin:"pass"})),u.TeamsWebActionsLogger.log("pass_invite_user",{user_id:a.id,team_id:o})}}},t.buildSuggestToJoinProps=function(e,a,s){var i=s.team_id,o=s.team_type,d=s.team_name;return{teamExpandPrimaryText:n.intl.formatMessage(E,{teamname:d}),teamExpandButtonText:_,teamExpandReasonsText:t.buildTeamExpandReasons(e),teamExpandButtonHandler:function(){i&&o?(l.sendBrowserAgnosticEvent(window,"resize"),g.Modal.showInstance(p.default.createElement(f.SuggestInvitesModal,{teamId:i,teamType:o,populatedContacts:e.email?[c.Contact.buildFromRawEmail(e.email)]:[],source:"pass"}))):M.navigateToSuggestModal(e.email?[e.email]:[]),u.TeamsWebActionsLogger.log("pass_suggested_user",{user_id:a.id,team_id:i,team_type:o})}}},t.buildRequestJoinProps=function(e,t,a,s){for(var i=a.find((function(e){return e.requestState===m.RequestState.PendingApproval})),o=function(a){for(var i=0,o=a.members;i<o.length;i++){var d=o[i];if(e.userId===d.memberId){var r=a.requestState;return{value:{teamExpandPrimaryText:n.intl.formatMessage(T,{teamname:a.name}),teamExpandButtonText:r?r===m.RequestState.Sending?x:r===m.RequestState.PendingApproval?S:P:w,teamExpandButtonHandler:function(){l.sendBrowserAgnosticEvent(window,"resize"),s(a),u.TeamsWebActionsLogger.log("pass_requested_access_to_team",{user_id:t.id,team_id:a.id})},showCompanyIcon:!0,isTeamExpandButtonDisabled:r===m.RequestState.PendingApproval||r===m.RequestState.Sending||r===m.RequestState.Joined}}}}},d=0,r=void 0!==i?[i]:a;d<r.length;d++){var g=o(r[d]);if("object"==typeof g)return g.value}return{}}}));
//# sourceMappingURL=tooltip_helpers.min.js-vflqCQhcK.map